<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Happy 17th Birthday Raman! üéÆüèéÔ∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 50%, #2d2d2d 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.1;
            pointer-events: none;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            animation: neonGlow 2s ease-in-out infinite alternate;
        }

        .birthday-title {
            font-size: 4rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease-in-out infinite, bounce 2s infinite;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: 1.5rem;
            color: #4ecdc4;
            margin-bottom: 30px;
            text-shadow: 0 0 10px #4ecdc4;
        }

        .age-badge {
            display: inline-block;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 2rem;
            font-weight: bold;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
            animation: pulse 2s infinite;
        }

        .interests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin: 50px 0;
        }

        .interest-card {
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border: 2px solid #333;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .interest-card:hover {
            transform: translateY(-10px) scale(1.05);
            border-color: #4ecdc4;
            box-shadow: 0 20px 40px rgba(78, 205, 196, 0.3);
        }

        .interest-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(78, 205, 196, 0.2), transparent);
            transition: left 0.5s;
        }

        .interest-card:hover:before {
            left: 100%;
        }

        .interest-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }

        .interest-title {
            font-size: 1.5rem;
            color: #4ecdc4;
            margin-bottom: 15px;
            text-shadow: 0 0 10px #4ecdc4;
        }

        .interest-text {
            color: #cccccc;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .game-section {
            background: linear-gradient(145deg, #0f0f0f, #1f1f1f);
            border: 2px solid #333;
            border-radius: 25px;
            padding: 40px;
            margin: 50px 0;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .game-title {
            font-size: 2.5rem;
            color: #ff6b6b;
            margin-bottom: 30px;
            text-shadow: 0 0 20px #ff6b6b;
        }

        .games-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .mini-game {
            background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
            border: 2px solid #555;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .mini-game:hover {
            border-color: #ff6b6b;
            transform: scale(1.05);
            box-shadow: 0 15px 30px rgba(255, 107, 107, 0.3);
        }

        .mini-game.completed {
            border-color: #4ecdc4;
            background: linear-gradient(145deg, #1a4a4a, #2a3d3d);
        }

        .game-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .game-name {
            font-size: 1.3rem;
            color: #4ecdc4;
            margin-bottom: 10px;
        }

        .start-button {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 30px auto;
            display: block;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 2px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .start-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 107, 107, 0.5);
        }

        /* Game Screens */
        .game-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #0c0c0c, #1a1a1a);
            z-index: 1000;
            padding: 20px;
        }

        .game-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-screen h2 {
            font-size: 2.5rem;
            color: #4ecdc4;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #4ecdc4;
        }

        .game-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .race-track {
            width: 100%;
            height: 300px;
            background: linear-gradient(180deg, #333 0%, #666 50%, #333 100%);
            border: 3px solid #4ecdc4;
            border-radius: 20px;
            position: relative;
            margin: 30px 0;
            overflow: hidden;
            cursor: pointer;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .car {
            position: absolute;
            bottom: 20px;
            left: 50px;
            font-size: 3rem;
            transition: left 0.3s ease;
        }

        .quiz-container {
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border-radius: 20px;
            padding: 40px;
            margin: 20px 0;
        }

        .question {
            font-size: 1.5rem;
            color: #ffffff;
            margin-bottom: 30px;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .option {
            background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
            border: 2px solid #555;
            color: white;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .option:hover {
            border-color: #4ecdc4;
            background: linear-gradient(145deg, #4ecdc4, #45b7d1);
        }

        .option.correct {
            background: linear-gradient(145deg, #4ecdc4, #45b7d1);
            border-color: #4ecdc4;
        }

        .option.wrong {
            background: linear-gradient(145deg, #ff6b6b, #ff5252);
            border-color: #ff6b6b;
        }

        .score {
            font-size: 1.5rem;
            color: #ff6b6b;
            margin: 20px 0;
        }

        .close-game {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            margin: 20px;
            transition: all 0.3s ease;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .close-game:hover {
            background: #ff5252;
            transform: scale(1.05);
        }

        .birthday-message {
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border: 2px solid #4ecdc4;
            border-radius: 25px;
            padding: 40px;
            margin: 50px 0;
            text-align: center;
            box-shadow: 0 20px 40px rgba(78, 205, 196, 0.2);
        }

        .message-text {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .floating-particles {
            position: fixed;
            width: 6px;
            height: 6px;
            background: #4ecdc4;
            border-radius: 50%;
            animation: float-particle 4s linear infinite;
            z-index: 2;
        }

        .memory-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 20px auto;
        }

        .memory-cell {
            width: 80px;
            height: 80px;
            background: #333;
            border: 2px solid #555;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .memory-cell.active {
            background: #4ecdc4;
            border-color: #4ecdc4;
            transform: scale(1.1);
        }

        .memory-cell.clicked {
            background: #ff6b6b;
            border-color: #ff6b6b;
        }

        .surprise-section {
            display: none;
            background: linear-gradient(145deg, #0f0f0f, #1f1f1f);
            border: 3px solid #4ecdc4;
            border-radius: 25px;
            padding: 50px;
            margin: 50px 0;
            text-align: center;
            box-shadow: 0 30px 60px rgba(78, 205, 196, 0.4);
            animation: surpriseGlow 2s ease-in-out infinite alternate;
        }

        @keyframes surpriseGlow {
            0% { box-shadow: 0 30px 60px rgba(78, 205, 196, 0.4); }
            100% { box-shadow: 0 30px 60px rgba(78, 205, 196, 0.8); }
        }

        .fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            animation: fireworkExplode 1s ease-out forwards;
        }

        @keyframes neonGlow {
            0% { text-shadow: 0 0 20px rgba(78, 205, 196, 0.5); }
            100% { text-shadow: 0 0 30px rgba(78, 205, 196, 0.8), 0 0 40px rgba(78, 205, 196, 0.6); }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 15px 40px rgba(255, 107, 107, 0.6); }
            100% { transform: scale(1); box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4); }
        }

        @keyframes float-particle {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes fireworkExplode {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(20); opacity: 0; }
        }

        .level-up {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            color: #4ecdc4;
            z-index: 1001;
            display: none;
            animation: levelUpAnim 2s ease-out;
        }

        @keyframes levelUpAnim {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }

        @media (max-width: 768px) {
            .birthday-title { font-size: 2.5rem; }
            .interests-grid { grid-template-columns: 1fr; }
            .games-container { grid-template-columns: 1fr; }
            .game-screen { padding: 10px; }
            .memory-cell { width: 60px; height: 60px; font-size: 1.5rem; }
            .container { padding: 10px; }
            .game-section { padding: 20px; }
            .birthday-message { padding: 20px; }
            .surprise-section { padding: 30px; }
            .race-track { height: 200px; }
            .car { font-size: 2rem; }
            .start-button { 
                font-size: 1.2rem; 
                padding: 15px 25px;
                margin: 20px auto;
            }
            .game-title { font-size: 2rem; }
            .interest-card { padding: 20px; }
            .quiz-container { padding: 20px; }
            .options { grid-template-columns: 1fr; }
            .memory-board { max-width: 300px; }
        }

        @media (max-width: 480px) {
            .birthday-title { font-size: 2rem; }
            .age-badge { font-size: 1.5rem; padding: 10px 20px; }
            .subtitle { font-size: 1.2rem; }
            .message-text { font-size: 1.1rem; }
            .memory-cell { width: 50px; height: 50px; font-size: 1.2rem; }
            .interest-icon { font-size: 3rem; }
            .game-icon { font-size: 2.5rem; }
            .race-track { height: 150px; }
            .car { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <!-- Matrix Background -->
    <canvas class="matrix-bg" id="matrixCanvas"></canvas>
    
    <!-- Floating Particles -->
    <div id="particles"></div>
    
    <!-- Level Up Animation -->
    <div class="level-up" id="levelUp">üéÆ LEVEL UP! üéÆ</div>

    <!-- Fireworks -->
    <div class="fireworks" id="fireworks"></div>

    <div class="container">
        <header class="header">
            <h1 class="birthday-title">üéÆ Happy Birthday Raman! üéÆ</h1>
            <p class="subtitle">The Ultimate Gaming Legend Turns</p>
            <div class="age-badge">üî• 17 üî•</div>
        </header>

        <div class="birthday-message">
            <p class="message-text">
                üéØ <strong>Achievement Unlocked: Another Epic Year!</strong> üéØ<br><br>
                Yo Raman! üöÄ You've leveled up to 17 and you're absolutely crushing it! 
                Whether you're dominating in games, geeking out over the latest anime, 
                or dreaming about those sick rides, you bring that legendary energy to everything! üèéÔ∏è‚ö°<br><br>
                Time to celebrate like the gaming champion you are! üéÆüëë<br><br>
                <strong>Ready for your birthday challenges? Let's goooo! üî•</strong>
            </p>
        </div>

        <div class="interests-grid">
            <div class="interest-card" onclick="celebrateInterest(this, 'üéÆ')">
                <span class="interest-icon">üéÆ</span>
                <h3 class="interest-title">Gaming Master</h3>
                <p class="interest-text">From epic raids to clutch plays, you're the definition of a true gamer! Keep dominating those leaderboards! üèÜ</p>
            </div>

            <div class="interest-card" onclick="celebrateInterest(this, 'üèéÔ∏è')">
                <span class="interest-icon">üèéÔ∏è</span>
                <h3 class="interest-title">Speed Demon</h3>
                <p class="interest-text">Cars and bikes fuel your passion! That need for speed and love for horsepower is absolutely legendary! üèÅ</p>
            </div>

            <div class="interest-card" onclick="celebrateInterest(this, '‚ö°')">
                <span class="interest-icon">‚ö°</span>
                <h3 class="interest-title">Anime Enthusiast</h3>
                <p class="interest-text">From shounen battles to epic storylines, your anime knowledge is next level! Keep watching those masterpieces! üì∫</p>
            </div>
        </div>

        <div class="game-section">
            <h2 class="game-title">üéÆ Birthday Gaming Zone üéÆ</h2>
            <p style="color: #cccccc; font-size: 1.2rem; margin-bottom: 30px;">
                Time for some epic birthday challenges! Complete all games to unlock your special surprise! üéÅ
            </p>
            
            <div class="games-container">
                <div class="mini-game" id="racing-card" onclick="openGame('racing')">
                    <div class="game-icon">üèéÔ∏è</div>
                    <div class="game-name">Speed Challenge</div>
                    <p style="color: #999;">Race to victory!</p>
                    <div id="racing-status" style="color: #666; margin-top: 10px;">Not completed</div>
                </div>

                <div class="mini-game" id="anime-card" onclick="openGame('anime')">
                    <div class="game-icon">‚ö°</div>
                    <div class="game-name">Anime Quiz</div>
                    <p style="color: #999;">Test your knowledge!</p>
                    <div id="anime-status" style="color: #666; margin-top: 10px;">Not completed</div>
                </div>

                <div class="mini-game" id="memory-card" onclick="openGame('memory')">
                    <div class="game-icon">üß†</div>
                    <div class="game-name">Memory Game</div>
                    <p style="color: #999;">Gaming skills test!</p>
                    <div id="memory-status" style="color: #666; margin-top: 10px;">Not completed</div>
                </div>
            </div>

            <button class="start-button" id="surpriseButton" onclick="startBirthdaySequence()">
                üéÇ Epic Birthday Surprise! üéÇ
            </button>
            <p id="progress-text" style="color: #4ecdc4; margin-top: 15px;">Ready for your birthday surprise? Click above! üéâ</p>
        </div>

        <!-- Surprise Section -->
        <div class="surprise-section" id="surpriseSection">
            <h2 style="font-size: 3rem; color: #4ecdc4; margin-bottom: 30px; text-shadow: 0 0 20px #4ecdc4;">
                üéâ EPIC BIRTHDAY SURPRISE! üéâ
            </h2>
            <div style="font-size: 1.8rem; line-height: 2; color: #ffffff; margin-bottom: 40px;">
                <p>üèÜ <strong>CONGRATULATIONS RAMAN!</strong> üèÜ</p>
                <p>You've completed all the challenges like the true legend you are!</p><br>
                <p>üéÆ <strong>Special Birthday Message:</strong></p>
                <p>At 17, you're not just leveling up in games - you're leveling up in life!</p>
                <p>Keep chasing those anime dreams, racing towards your goals,</p>
                <p>and gaming with that unstoppable spirit! üöÄ</p><br>
                <p>üéÇ <strong>Your birthday wish is granted:</strong></p>
                <p>May your framerate always be high, your ping always low,</p>
                <p>your anime episodes never end, and your rides always be epic! üèéÔ∏èüí®</p><br>
                <p style="font-size: 2rem; color: #ff6b6b;">Happy 17th Birthday, Gaming Champion! üéÆüëë</p>
            </div>
            <button onclick="launchFireworks()" style="background: linear-gradient(45deg, #ff6b6b, #4ecdc4); color: white; border: none; padding: 20px 40px; font-size: 1.5rem; border-radius: 50px; cursor: pointer; margin: 20px;">
                üéÜ Launch Victory Fireworks! üéÜ
            </button>
        </div>
    </div>

    <!-- Racing Game -->
    <div class="game-screen" id="racingGame">
        <div class="game-header">
            <h2>üèéÔ∏è Speed Challenge üèéÔ∏è</h2>
            <p style="color: #4ecdc4;">Click SPACE to boost your car! Reach the finish line!</p>
            <button class="close-game" onclick="closeGame('racing')">Exit Game</button>
        </div>
        <div class="game-content">
            <div class="race-track" id="raceTrack">
                <div class="car" id="raceCar">üèéÔ∏è</div>
                <div style="position: absolute; right: 50px; top: 50%; color: #4ecdc4; font-size: 2rem;">üèÅ</div>
            </div>
            <p style="color: #fff; font-size: 1.2rem;">TAP the track or press SPACEBAR to accelerate! üöÄ</p>
            <div class="score" id="raceScore">Distance: 0%</div>
        </div>
    </div>

    <!-- Anime Quiz Game -->
    <div class="game-screen" id="animeGame">
        <div class="game-header">
            <h2>‚ö° Anime Knowledge Quiz ‚ö°</h2>
            <button class="close-game" onclick="closeGame('anime')">Exit Game</button>
        </div>
        <div class="game-content">
            <div class="quiz-container">
                <div class="question" id="animeQuestion">Loading question...</div>
                <div class="options" id="animeOptions"></div>
                <div class="score" id="animeScore">Score: 0/0</div>
            </div>
        </div>
    </div>

    <!-- Memory Game -->
    <div class="game-screen" id="memoryGame">
        <div class="game-header">
            <h2>üß† Gaming Memory Challenge üß†</h2>
            <button class="close-game" onclick="closeGame('memory')">Exit Game</button>
        </div>
        <div class="game-content">
            <p style="color: #4ecdc4; font-size: 1.2rem; margin-bottom: 20px;">
                Remember the sequence and click in the same order!
            </p>
            <div class="memory-board" id="memoryBoard"></div>
            <div class="score" id="memoryScore">Level: 1</div>
            <button id="memoryStart" class="option" style="margin: 20px auto; display: block;" onclick="startMemoryGame()">
                Start Game
            </button>
        </div>
    </div>

    <script>
        let gamesCompleted = 0;
        let racePosition = 0;
        let animeQuestions = [
            {
                question: "Which anime features a boy who can stretch like rubber?",
                options: ["Naruto", "One Piece", "Dragon Ball", "Attack on Titan"],
                correct: 1
            },
            {
                question: "What is the name of the Death Note owner?",
                options: ["Light Yagami", "L Lawliet", "Misa Amane", "Ryuk"],
                correct: 0
            },
            {
                question: "In Dragon Ball, what are the magic orbs called?",
                options: ["Power Orbs", "Dragon Balls", "Wish Stones", "Magic Spheres"],
                correct: 1
            },
            {
                question: "Which anime is about giant humanoid creatures?",
                options: ["Tokyo Ghoul", "Attack on Titan", "Demon Slayer", "My Hero Academia"],
                correct: 1
            },
            {
                question: "What does 'Senpai' mean?",
                options: ["Friend", "Teacher", "Senior/Upperclassman", "Enemy"],
                correct: 2
            }
        ];
        let currentAnimeQ = 0;
        let animeScore = 0;
        let memorySequence = [];
        let userSequence = [];
        let memoryLevel = 1;
        let showingSequence = false;
        let gameCompleted = { racing: false, anime: false, memory: false };

        // Initialize everything when page loads
        window.onload = function() {
            initMatrix();
            createParticles();
        };

        // Matrix background
        function initMatrix() {
            const canvas = document.getElementById('matrixCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const chars = "„Ç¢„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É©„ÉØ„Ç¨„Ç∂„ÉÄ„Éê„Éë01234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            const charArray = chars.split("");
            const columns = canvas.width / 20;
            const drops = [];
            
            for (let i = 0; i < columns; i++) {
                drops[i] = 1;
            }
            
            function draw() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#4ecdc4';
                ctx.font = '15px monospace';
                
                for (let i = 0; i < drops.length; i++) {
                    const text = charArray[Math.floor(Math.random() * charArray.length)];
                    ctx.fillText(text, i * 20, drops[i] * 20);
                    
                    if (drops[i] * 20 > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }
            
            setInterval(draw, 100);
        }

        // Floating particles
        function createParticles() {
            setInterval(() => {
                const particle = document.createElement('div');
                particle.className = 'floating-particles';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.animationDelay = Math.random() * 2 + 's';
                particle.style.background = ['#4ecdc4', '#ff6b6b', '#45b7d1', '#96ceb4'][Math.floor(Math.random() * 4)];
                document.getElementById('particles').appendChild(particle);
                
                setTimeout(() => particle.remove(), 4000);
            }, 500);
        }

        // Celebrate interests
        function celebrateInterest(card, emoji) {
            const originalContent = card.innerHTML;
            card.style.background = 'linear-gradient(135deg, #ff6b6b, #4ecdc4)';
            card.style.transform = 'scale(1.1) rotate(5deg)';
            
            setTimeout(() => {
                card.innerHTML = `<div style="font-size: 5rem;">${emoji}</div><div style="font-size: 2rem; margin-top: 15px; color: white;">EPIC! üî•</div>`;
            }, 300);
            
            setTimeout(() => {
                card.innerHTML = originalContent;
                card.style.background = 'linear-gradient(145deg, #1a1a1a, #2d2d2d)';
                card.style.transform = '';
            }, 2500);
            
            showLevelUp();
        }

        function showLevelUp() {
            const levelUp = document.getElementById('levelUp');
            levelUp.style.display = 'block';
            levelUp.style.animation = 'levelUpAnim 2s ease-out';
            setTimeout(() => {
                levelUp.style.display = 'none';
            }, 2000);
        }

        function updateProgressButton() {
            // Removed - button is always available now
        }

        function markGameCompleted(gameType) {
            gameCompleted[gameType] = true;
            document.getElementById(gameType + '-card').classList.add('completed');
            document.getElementById(gameType + '-status').textContent = '‚úÖ Completed!';
            document.getElementById(gameType + '-status').style.color = '#4ecdc4';
            showLevelUp();
        }

        // Game functions
        function openGame(gameType) {
            document.getElementById(gameType + 'Game').style.display = 'block';
            
            if (gameType === 'racing') {
                initRacingGame();
            } else if (gameType === 'anime') {
                initAnimeQuiz();
            } else if (gameType === 'memory') {
                initMemoryGame();
            }
        }

        function closeGame(gameType) {
            document.getElementById(gameType + 'Game').style.display = 'none';
            // Remove event listeners
            if (gameType === 'racing') {
                document.removeEventListener('keydown', raceKeyHandler);
            }
        }

        // Racing Game - Mobile optimized
        function initRacingGame() {
            racePosition = 0;
            document.getElementById('raceCar').style.left = '50px';
            document.getElementById('raceScore').textContent = 'Distance: 0%';
            
            // Mobile touch handler
            const raceTrack = document.getElementById('raceTrack');
            raceTrack.ontouchstart = function(e) {
                e.preventDefault();
                moveRaceCar();
            };
            raceTrack.onclick = moveRaceCar;
            
            // Keyboard handler for desktop
            document.addEventListener('keydown', raceKeyHandler);
        }

        function moveRaceCar() {
            if (document.getElementById('racingGame').style.display === 'block') {
                racePosition += 8;
                if (racePosition > 85) racePosition = 85;
                
                const carElement = document.getElementById('raceCar');
                carElement.style.left = (50 + racePosition * 5) + 'px';
                document.getElementById('raceScore').textContent = `Distance: ${racePosition}%`;
                
                if (racePosition >= 85) {
                    setTimeout(() => {
                        alert('üèÜ Race Won! You\'re a speed legend! üèÜ');
                        markGameCompleted('racing');
                        closeGame('racing');
                    }, 500);
                }
            }
        }

        function raceKeyHandler(e) {
            if ((e.code === 'Space' || e.key === ' ') && document.getElementById('racingGame').style.display === 'block') {
                e.preventDefault();
                moveRaceCar();
            }
        }

        // Anime Quiz
        function initAnimeQuiz() {
            currentAnimeQ = 0;
            animeScore = 0;
            showAnimeQuestion();
        }

        function showAnimeQuestion() {
            if (currentAnimeQ >= animeQuestions.length) {
                setTimeout(() => {
                    alert(`üéå Quiz Complete! Score: ${animeScore}/${animeQuestions.length} üéå`);
                    if (animeScore >= 3) {
                        markGameCompleted('anime');
                    }
                    closeGame('anime');
                }, 500);
                return;
            }
            
            const q = animeQuestions[currentAnimeQ];
            document.getElementById('animeQuestion').textContent = q.question;
            document.getElementById('animeScore').textContent = `Score: ${animeScore}/${currentAnimeQ}`;
            
            const optionsDiv = document.getElementById('animeOptions');
            optionsDiv.innerHTML = '';
            
            q.options.forEach((option, index) => {
                const btn = document.createElement('div');
                btn.className = 'option';
                btn.textContent = option;
                btn.onclick = () => checkAnimeAnswer(index);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnimeAnswer(selected) {
            const options = document.querySelectorAll('#animeOptions .option');
            const correct = animeQuestions[currentAnimeQ].correct;
            
            options[selected].classList.add(selected === correct ? 'correct' : 'wrong');
            options[correct].classList.add('correct');
            
            if (selected === correct) {
                animeScore++;
            }
            
            currentAnimeQ++;
            setTimeout(showAnimeQuestion, 1500);
        }

        // Memory Game
        function initMemoryGame() {
            const board = document.getElementById('memoryBoard');
            board.innerHTML = '';
            memoryLevel = 1;
            document.getElementById('memoryScore').textContent = `Level: ${memoryLevel}`;
            
            for (let i = 0; i < 16; i++) {
                const cell = document.createElement('div');
                cell.className = 'memory-cell';
                cell.dataset.index = i;
                cell.onclick = () => memoryClick(i);
                board.appendChild(cell);
            }
        }

        function startMemoryGame() {
            memorySequence = [];
            userSequence = [];
            
            // Generate sequence based on level
            for (let i = 0; i < memoryLevel + 2; i++) {
                memorySequence.push(Math.floor(Math.random() * 16));
            }
            
            document.getElementById('memoryStart').style.display = 'none';
            showMemorySequence();
        }

        function showMemorySequence() {
            showingSequence = true;
            let index = 0;
            
            const interval = setInterval(() => {
                // Reset previous cell
                if (index > 0) {
                    document.querySelector(`[data-index="${memorySequence[index-1]}"]`).classList.remove('active');
                }
                
                if (index < memorySequence.length) {
                    // Light up current cell
                    document.querySelector(`[data-index="${memorySequence[index]}"]`).classList.add('active');
                    index++;
                } else {
                    // Sequence shown, now player's turn
                    document.querySelectorAll('.memory-cell').forEach(cell => cell.classList.remove('active'));
                    showingSequence = false;
                    clearInterval(interval);
                }
            }, 800);
        }

        function memoryClick(cellIndex) {
            if (showingSequence) return;
            
            const cell = document.querySelector(`[data-index="${cellIndex}"]`);
            
            // Haptic feedback for mobile
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            cell.classList.add('clicked');
            setTimeout(() => cell.classList.remove('clicked'), 200);
            
            userSequence.push(cellIndex);
            
            // Check if current click is correct
            if (userSequence[userSequence.length - 1] !== memorySequence[userSequence.length - 1]) {
                // Wrong sequence
                if (navigator.vibrate) {
                    navigator.vibrate([100, 50, 100]);
                }
                alert('‚ùå Wrong sequence! Try again! ‚ùå');
                userSequence = [];
                document.getElementById('memoryStart').style.display = 'block';
                return;
            }
            
            // Check if sequence is completed
            if (userSequence.length === memorySequence.length) {
                memoryLevel++;
                if (memoryLevel > 3) {
                    // Game completed
                    if (navigator.vibrate) {
                        navigator.vibrate([200, 100, 200, 100, 200]);
                    }
                    setTimeout(() => {
                        alert('üß† Memory Master! You completed all levels! üß†');
                        markGameCompleted('memory');
                        closeGame('memory');
                    }, 500);
                    return;
                }
                
                // Next level
                document.getElementById('memoryScore').textContent = `Level: ${memoryLevel}`;
                userSequence = [];
                setTimeout(() => {
                    document.getElementById('memoryStart').style.display = 'block';
                }, 1000);
            }
        }

        // Birthday sequence
        function startBirthdaySequence() {
            const surpriseSection = document.getElementById('surpriseSection');
            surpriseSection.style.display = 'block';
            surpriseSection.scrollIntoView({ behavior: 'smooth' });
            
            // Auto-launch fireworks after 2 seconds
            setTimeout(() => {
                launchFireworks();
            }, 2000);
        }

        function launchFireworks() {
            const fireworksContainer = document.getElementById('fireworks');
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    createFirework();
                }, i * 100);
            }
            
            // Play celebration sound effect (visual representation)
            showLevelUp();
        }

        function createFirework() {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = Math.random() * 100 + '%';
            firework.style.top = Math.random() * 100 + '%';
            firework.style.background = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffd93d'][Math.floor(Math.random() * 5)];
            
            document.getElementById('fireworks').appendChild(firework);
            
            setTimeout(() => {
                firework.remove();
            }, 1000);
        }

        // Resize matrix on window resize
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('matrixCanvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
